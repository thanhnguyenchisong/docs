# Java 8, 11, 17, 21 - Tổng quan và So sánh

## Mục lục
1. [Tổng quan](#tổng-quan)
2. [Java 8](#java-8)
3. [Java 11](#java-11)
4. [Java 17](#java-17)
5. [Java 21](#java-21)
6. [So sánh các phiên bản](#so-sánh-các-phiên-bản)
7. [Migration Guide](#migration-guide)
8. [Best Practices](#best-practices)

---

## Tổng quan

Java 8, 11, 17, và 21 là các phiên bản LTS (Long Term Support) của Java, được Oracle hỗ trợ trong thời gian dài. Đây là các phiên bản quan trọng nhất trong hệ sinh thái Java hiện đại.

### LTS là gì?
- **LTS (Long Term Support)**: Phiên bản được hỗ trợ trong ít nhất 3 năm (có thể lên đến 8 năm)
- **Non-LTS**: Phiên bản được hỗ trợ chỉ 6 tháng
- Các phiên bản LTS: Java 8, 11, 17, 21

---

## Java 8

**Ngày phát hành**: 18 tháng 3, 2014  
**LTS Support**: Đến tháng 12, 2030 (Oracle)  
**Mã nguồn**: `1.8.0`

### Tính năng chính

#### 1. Lambda Expressions
```java
// Trước Java 8
Collections.sort(list, new Comparator<String>() {
    @Override
    public int compare(String s1, String s2) {
        return s1.compareTo(s2);
    }
});

// Java 8
Collections.sort(list, (s1, s2) -> s1.compareTo(s2));
list.sort((s1, s2) -> s1.compareTo(s2));
```

#### 2. Stream API
```java
List<String> filtered = list.stream()
    .filter(s -> s.startsWith("A"))
    .map(String::toUpperCase)
    .collect(Collectors.toList());
```

#### 3. Optional
```java
Optional<String> optional = Optional.ofNullable(value);
String result = optional.orElse("default");
```

#### 4. Default Methods trong Interface
```java
interface MyInterface {
    void abstractMethod();
    
    default void defaultMethod() {
        System.out.println("Default implementation");
    }
}
```

#### 5. Method References
```java
list.forEach(System.out::println);
list.sort(String::compareToIgnoreCase);
```

#### 6. Date/Time API (java.time)
```java
LocalDate date = LocalDate.now();
LocalDateTime dateTime = LocalDateTime.now();
Duration duration = Duration.between(start, end);
```

#### 7. Nashorn JavaScript Engine
- JavaScript engine mới thay thế Rhino

#### 8. PermGen Removal
- Loại bỏ PermGen space, thay bằng Metaspace

### Cải tiến hiệu năng
- **Compact Profiles**: Giảm kích thước JRE
- **Parallel Array Sorting**: Sắp xếp song song
- **Base64 Encoding/Decoding**: Hỗ trợ native

---

## Java 11

**Ngày phát hành**: 25 tháng 9, 2018  
**LTS Support**: Đến tháng 9, 2026 (Oracle)  
**Mã nguồn**: `11.0.x`

### Tính năng chính

#### 1. Local Variable Syntax cho Lambda
```java
// Java 8
Function<String, String> func = (String s) -> s.toUpperCase();

// Java 11
Function<String, String> func = (var s) -> s.toUpperCase();
```

#### 2. HTTP Client (java.net.http)
```java
HttpClient client = HttpClient.newHttpClient();
HttpRequest request = HttpRequest.newBuilder()
    .uri(URI.create("https://api.example.com"))
    .build();
    
HttpResponse<String> response = client.send(request, 
    HttpResponse.BodyHandlers.ofString());
```

#### 3. String Methods mới
```java
String str = "  Hello World  ";
str.isBlank();           // true nếu chỉ có whitespace
str.strip();             // trim() nhưng Unicode-aware
str.stripLeading();
str.stripTrailing();
str.repeat(3);           // "Hello WorldHello WorldHello World"
str.lines();             // Stream<String>
```

#### 4. Files Methods
```java
String content = Files.readString(path);
Files.writeString(path, content);
```

#### 5. Epsilon GC
- Garbage Collector không thu gom rác, chỉ phân bổ bộ nhớ
- Hữu ích cho testing và short-lived applications

#### 6. ZGC (Experimental)
- Low-latency garbage collector
- Pause times < 10ms

#### 7. Flight Recorder
- JFR (Java Flight Recorder) được tích hợp sẵn
- Không cần tham số `-XX:+UnlockCommercialFeatures`

#### 8. Nest-based Access Control
- Hỗ trợ nested classes tốt hơn

### Breaking Changes
- **Removed**: Java EE và CORBA modules
- **Removed**: JavaFX (tách ra thành module riêng)
- **Removed**: Nashorn JavaScript Engine
- **Deprecated**: Applet API

### Migration từ Java 8
```bash
# Kiểm tra code compatibility
javac -source 8 -target 11 YourClass.java

# Sử dụng jdeps để phân tích dependencies
jdeps --jdk-internals your-application.jar
```

---

## Java 17

**Ngày phát hành**: 14 tháng 9, 2021  
**LTS Support**: Đến tháng 9, 2029 (Oracle)  
**Mã nguồn**: `17.0.x`

### Tính năng chính

#### 1. Sealed Classes
```java
public sealed class Shape 
    permits Circle, Rectangle, Triangle {
    // ...
}

public final class Circle extends Shape {
    // ...
}
```

#### 2. Pattern Matching cho instanceof
```java
// Trước Java 17
if (obj instanceof String) {
    String s = (String) obj;
    System.out.println(s.length());
}

// Java 17
if (obj instanceof String s) {
    System.out.println(s.length());
}
```

#### 3. Records
```java
public record Person(String name, int age) {
    // Compact constructor
    public Person {
        if (age < 0) throw new IllegalArgumentException();
    }
    
    // Custom methods
    public boolean isAdult() {
        return age >= 18;
    }
}

// Usage
Person person = new Person("John", 30);
System.out.println(person.name()); // Accessor method
```

#### 4. Text Blocks (JEP 378)
```java
String json = """
    {
        "name": "John",
        "age": 30
    }
    """;
```

#### 5. Switch Expressions (Finalized)
```java
String dayType = switch (day) {
    case MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY -> "Weekday";
    case SATURDAY, SUNDAY -> "Weekend";
};

// Yield cho complex logic
int result = switch (value) {
    case 1 -> 10;
    case 2 -> 20;
    default -> {
        int temp = value * 2;
        yield temp;
    }
};
```

#### 6. Strong Encapsulation cho JDK Internals
- Không thể truy cập internal APIs dễ dàng như trước
- Cần sử dụng `--add-opens` nếu cần

#### 7. Foreign Function & Memory API (Incubator)
- JEP 412: Tương tác với native code

#### 8. Vector API (Second Incubator)
- JEP 414: Tính toán vector cho hiệu năng cao

### Cải tiến hiệu năng
- **ZGC**: Production-ready (không còn experimental)
- **Shenandoah GC**: Production-ready
- **Performance improvements**: Tối ưu hóa compiler và runtime

### Deprecated và Removed
- **Deprecated**: Security Manager
- **Removed**: Applet API (hoàn toàn)
- **Removed**: AOT và JIT compilers (experimental)

---

## Java 21

**Ngày phát hành**: 19 tháng 9, 2023  
**LTS Support**: Đến tháng 9, 2031 (Oracle)  
**Mã nguồn**: `21.0.x`

### Tính năng chính

#### 1. Virtual Threads (JEP 444)
```java
// Platform threads (traditional)
Thread thread = new Thread(() -> {
    // blocking I/O
});

// Virtual threads (lightweight)
Thread virtualThread = Thread.ofVirtual().start(() -> {
    // blocking I/O - không tốn nhiều tài nguyên
});

// Sử dụng ExecutorService
try (ExecutorService executor = Executors.newVirtualThreadPerTaskExecutor()) {
    executor.submit(() -> {
        // task
    });
}
```

#### 2. Pattern Matching cho switch (Finalized)
```java
String result = switch (obj) {
    case Integer i -> "Integer: " + i;
    case String s -> "String: " + s;
    case null -> "Null";
    default -> "Unknown";
};

// Pattern matching với guards
String result = switch (obj) {
    case Integer i when i > 0 -> "Positive: " + i;
    case Integer i -> "Non-positive: " + i;
    case String s -> "String: " + s;
    default -> "Unknown";
};
```

#### 3. Record Patterns
```java
// Deconstructing records
if (obj instanceof Person(String name, int age)) {
    System.out.println(name + " is " + age);
}

// Nested patterns
if (obj instanceof Person(String name, int age) p && age > 18) {
    System.out.println(p.name() + " is adult");
}

// Switch với records
String result = switch (obj) {
    case Person(String name, int age) when age >= 18 -> name + " is adult";
    case Person(String name, int age) -> name + " is minor";
    default -> "Unknown";
};
```

#### 4. Sequenced Collections
```java
// Interface mới cho collections có thứ tự
SequencedCollection<String> list = new ArrayList<>();
list.addFirst("first");
list.addLast("last");
String first = list.getFirst();
String last = list.getLast();

// SequencedSet
SequencedSet<String> set = new LinkedHashSet<>();
set.addFirst("first");
```

#### 5. String Templates (Preview)
```java
String name = "John";
int age = 30;
String message = STR."Hello, \{name}! You are \{age} years old.";
```

#### 6. Scoped Values (Preview)
```java
// Thay thế ThreadLocal với hiệu năng tốt hơn
ScopedValue<String> NAME = ScopedValue.newInstance();

ScopedValue.runWhere(NAME, "John", () -> {
    String value = NAME.get(); // "John"
});
```

#### 7. Generational ZGC
- Cải tiến ZGC với generational collection

#### 8. Key Encapsulation Mechanism API
- JEP 452: Hỗ trợ KEM algorithms

### Cải tiến hiệu năng
- **Virtual Threads**: Xử lý hàng triệu concurrent tasks
- **Generational ZGC**: Cải thiện throughput
- **Performance improvements**: Tối ưu hóa compiler

---

## So sánh các phiên bản

### Bảng so sánh nhanh

| Tính năng | Java 8 | Java 11 | Java 17 | Java 21 |
|-----------|--------|---------|---------|---------|
| **Lambda Expressions** | ✅ | ✅ | ✅ | ✅ |
| **Stream API** | ✅ | ✅ | ✅ | ✅ |
| **Optional** | ✅ | ✅ | ✅ | ✅ |
| **HTTP Client** | ❌ | ✅ | ✅ | ✅ |
| **var keyword** | ❌ | ✅ | ✅ | ✅ |
| **Text Blocks** | ❌ | ❌ | ✅ | ✅ |
| **Records** | ❌ | ❌ | ✅ | ✅ |
| **Sealed Classes** | ❌ | ❌ | ✅ | ✅ |
| **Pattern Matching** | ❌ | ❌ | ✅ | ✅ |
| **Virtual Threads** | ❌ | ❌ | ❌ | ✅ |
| **Record Patterns** | ❌ | ❌ | ❌ | ✅ |

### Hiệu năng

| Metric | Java 8 | Java 11 | Java 17 | Java 21 |
|--------|--------|---------|---------|---------|
| **Startup Time** | Baseline | ~10% faster | ~15% faster | ~20% faster |
| **Memory Usage** | Baseline | Similar | ~5% better | ~10% better |
| **GC Pause Time** | Baseline | Better | Much better | Best (ZGC) |

### Ecosystem Support

| Tool/Framework | Java 8 | Java 11 | Java 17 | Java 21 |
|----------------|--------|---------|---------|---------|
| **Spring Boot** | ✅ 2.x | ✅ 2.x+ | ✅ 3.0+ | ✅ 3.2+ |
| **Maven** | ✅ | ✅ | ✅ | ✅ |
| **Gradle** | ✅ | ✅ | ✅ | ✅ |
| **Docker Images** | ✅ | ✅ | ✅ | ✅ |
| **Kubernetes** | ✅ | ✅ | ✅ | ✅ |

---

## Migration Guide

### Java 8 → Java 11

#### 1. Kiểm tra dependencies
```bash
# Sử dụng jdeps
jdeps --jdk-internals your-app.jar

# Kiểm tra modules
jdeps --list-deps your-app.jar
```

#### 2. Cập nhật build tools
```xml
<!-- pom.xml -->
<properties>
    <maven.compiler.source>11</maven.compiler.source>
    <maven.compiler.target>11</maven.compiler.target>
</properties>
```

#### 3. Xử lý removed modules
- **JavaFX**: Tách ra thành module riêng hoặc sử dụng OpenJFX
- **Java EE**: Sử dụng Jakarta EE
- **Nashorn**: Chuyển sang GraalVM JavaScript

#### 4. Cập nhật code
```java
// Sử dụng var keyword
var list = new ArrayList<String>();

// Sử dụng HTTP Client thay vì HttpURLConnection
HttpClient client = HttpClient.newHttpClient();

// Sử dụng String methods mới
if (str.isBlank()) { ... }
String trimmed = str.strip();
```

### Java 11 → Java 17

#### 1. Cập nhật dependencies
- Spring Boot 3.0+ yêu cầu Java 17
- Kiểm tra các thư viện có hỗ trợ Java 17

#### 2. Sử dụng tính năng mới
```java
// Records
public record User(String name, String email) {}

// Pattern matching
if (obj instanceof String s) {
    System.out.println(s.length());
}

// Text blocks
String json = """
    {
        "name": "John"
    }
    """;
```

#### 3. Xử lý strong encapsulation
```bash
# Nếu cần truy cập internal APIs
java --add-opens java.base/java.lang=ALL-UNNAMED your-app.jar
```

### Java 17 → Java 21

#### 1. Virtual Threads
```java
// Thay đổi cách xử lý concurrency
// Từ: Thread pool với platform threads
ExecutorService executor = Executors.newFixedThreadPool(100);

// Sang: Virtual threads
ExecutorService executor = Executors.newVirtualThreadPerTaskExecutor();
```

#### 2. Pattern Matching nâng cao
```java
// Record patterns
if (obj instanceof Person(String name, int age)) {
    // ...
}

// Switch patterns
String result = switch (obj) {
    case Person(String name, int age) when age >= 18 -> "Adult";
    case Person(String name, int age) -> "Minor";
    default -> "Unknown";
};
```

#### 3. Sequenced Collections
```java
// Sử dụng SequencedCollection thay vì List trong một số trường hợp
SequencedCollection<String> items = new ArrayList<>();
items.addFirst("first");
```

### Checklist Migration

- [ ] Cập nhật JDK version
- [ ] Cập nhật build tool configuration
- [ ] Kiểm tra dependencies compatibility
- [ ] Chạy tests
- [ ] Cập nhật CI/CD pipelines
- [ ] Cập nhật Docker images
- [ ] Review và refactor code với tính năng mới
- [ ] Performance testing
- [ ] Documentation update

---

## Best Practices

### 1. Chọn phiên bản Java phù hợp

**Java 8**: 
- Legacy systems
- Projects không thể upgrade
- Minimal dependencies

**Java 11**:
- Good balance giữa features và stability
- Widely supported
- Production-ready

**Java 17**:
- **Recommended cho projects mới**
- Modern features (Records, Pattern Matching)
- Better performance
- Long-term support

**Java 21**:
- **Latest LTS - Best choice cho projects mới**
- Virtual Threads cho high-concurrency
- Latest features
- Best performance

### 2. Sử dụng tính năng mới đúng cách

#### Records
```java
// ✅ Good: Sử dụng cho immutable data
public record Point(int x, int y) {}

// ❌ Bad: Không dùng cho entities phức tạp với nhiều logic
```

#### Pattern Matching
```java
// ✅ Good: Làm code ngắn gọn và rõ ràng
if (obj instanceof String s && !s.isEmpty()) {
    System.out.println(s);
}

// ❌ Bad: Overuse cho simple cases
```

#### Virtual Threads
```java
// ✅ Good: I/O-bound tasks
try (ExecutorService executor = Executors.newVirtualThreadPerTaskExecutor()) {
    for (String url : urls) {
        executor.submit(() -> fetchUrl(url));
    }
}

// ❌ Bad: CPU-intensive tasks (vẫn dùng platform threads)
```

### 3. Performance Optimization

#### Java 17+
```java
// Sử dụng Records cho immutable data (ít memory overhead)
public record User(String name, String email) {}

// Sử dụng Pattern Matching (compiler optimizations)
String result = switch (obj) {
    case String s -> "String: " + s;
    case Integer i -> "Integer: " + i;
    default -> "Unknown";
};
```

#### Java 21
```java
// Virtual Threads cho I/O-bound operations
ExecutorService executor = Executors.newVirtualThreadPerTaskExecutor();

// Generational ZGC cho low-latency applications
// -XX:+UseZGC -XX:+UseGenerationalZGC
```

### 4. Code Style

```java
// ✅ Modern Java style (Java 17+)
public record Person(String name, int age) {
    public boolean isAdult() {
        return age >= 18;
    }
}

public String process(Object obj) {
    return switch (obj) {
        case Person(String name, int age) when age >= 18 -> name + " is adult";
        case Person(String name, int age) -> name + " is minor";
        case String s -> "String: " + s;
        case null -> "Null";
        default -> "Unknown";
    };
}
```

### 5. Testing

```java
// Test với Records
@Test
void testPersonRecord() {
    Person person = new Person("John", 30);
    assertEquals("John", person.name());
    assertEquals(30, person.age());
    assertTrue(person.isAdult());
}

// Test với Pattern Matching
@Test
void testPatternMatching() {
    Object obj = new Person("John", 30);
    assertTrue(obj instanceof Person(String name, int age));
}
```

---

## Tài liệu tham khảo

### Official Documentation
- [Java 8 Documentation](https://docs.oracle.com/javase/8/docs/)
- [Java 11 Documentation](https://docs.oracle.com/en/java/javase/11/)
- [Java 17 Documentation](https://docs.oracle.com/en/java/javase/17/)
- [Java 21 Documentation](https://docs.oracle.com/en/java/javase/21/)

### JEPs (Java Enhancement Proposals)
- [Java 8 JEPs](https://openjdk.org/projects/jdk8/)
- [Java 11 JEPs](https://openjdk.org/projects/jdk/11/)
- [Java 17 JEPs](https://openjdk.org/projects/jdk/17/)
- [Java 21 JEPs](https://openjdk.org/projects/jdk/21/)

### Migration Guides
- [Oracle Java Migration Guide](https://docs.oracle.com/en/java/javase/migration/)
- [Spring Boot Migration Guide](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide)

---

## Câu hỏi phỏng vấn thường gặp

### Q1: Tại sao nên upgrade từ Java 8 lên Java 11/17/21?

**Lý do chính:**
1. **Security**: Java 8 không còn nhận security updates miễn phí từ Oracle
2. **Performance**: Java 11/17/21 có nhiều cải tiến hiệu năng
3. **Features**: Modern features giúp code ngắn gọn và dễ maintain hơn
4. **Ecosystem**: Nhiều libraries và frameworks yêu cầu Java 11+
5. **Support**: LTS versions được hỗ trợ lâu dài

### Q2: Sự khác biệt giữa LTS và Non-LTS versions?

**LTS (Long Term Support):**
- Hỗ trợ ít nhất 3-8 năm
- Được khuyến nghị cho production
- Các phiên bản: 8, 11, 17, 21

**Non-LTS:**
- Hỗ trợ chỉ 6 tháng
- Có tính năng mới nhất
- Phù hợp cho testing và experimentation

### Q3: Làm sao quyết định chọn Java version nào?

**Java 8:**
- Legacy systems không thể upgrade
- Dependencies chưa hỗ trợ Java 11+
- Team chưa sẵn sàng cho migration

**Java 11:**
- Good balance giữa features và stability
- Widely supported bởi ecosystem
- Production-ready và stable

**Java 17:**
- **Recommended cho projects mới**
- Modern features (Records, Pattern Matching)
- Better performance
- Long-term support đến 2029

**Java 21:**
- **Best choice cho projects mới**
- Latest LTS với virtual threads
- Best performance
- Long-term support đến 2031

### Q4: Virtual Threads vs Platform Threads?

```java
// Platform Threads (Traditional)
// - Mapped 1:1 với OS threads
// - Limited số lượng (thường vài trăm đến vài nghìn)
// - Expensive để tạo và maintain
Thread platformThread = new Thread(() -> {
    // Blocking I/O - tốn OS thread resource
    try {
        Thread.sleep(1000);
    } catch (InterruptedException e) {
        e.printStackTrace();
    }
});
platformThread.start();

// Virtual Threads (Java 21+)
// - Lightweight, managed bởi JVM
// - Có thể tạo hàng triệu virtual threads
// - Perfect cho I/O-bound tasks
Thread virtualThread = Thread.ofVirtual().start(() -> {
    // Blocking I/O - không tốn nhiều resource
    try {
        Thread.sleep(1000);
    } catch (InterruptedException e) {
        e.printStackTrace();
    }
});
```

**Khi nào dùng:**
- **Virtual Threads**: I/O-bound, high concurrency, blocking operations
- **Platform Threads**: CPU-intensive, long-running computations

### Q5: Records vs Classes - Khi nào dùng gì?

```java
// Records: Immutable data carriers
public record Person(String name, int age) {
    // Auto-generated: constructor, getters, equals, hashCode, toString
    // Compact constructor for validation
    public Person {
        if (age < 0) throw new IllegalArgumentException("Age cannot be negative");
    }
    
    // Custom methods allowed
    public boolean isAdult() {
        return age >= 18;
    }
}

// Classes: Khi cần mutable state, inheritance, complex logic
public class Employee {
    private String name;
    private int age;
    private double salary;
    
    // Mutable
    public void setSalary(double salary) {
        this.salary = salary;
    }
    
    // Complex business logic
    public double calculateBonus() {
        // Complex calculation
        return salary * 0.1;
    }
}
```

**Khi dùng Records:**
- Immutable data transfer objects (DTOs)
- Value objects
- Simple data containers

**Khi dùng Classes:**
- Mutable state
- Complex business logic
- Inheritance needed
- Encapsulation với private fields

### Q6: Pattern Matching - Ví dụ thực tế?

```java
// Java 17: Pattern matching với instanceof
if (obj instanceof String s && s.length() > 5) {
    System.out.println("Long string: " + s);
}

// Java 21: Pattern matching với switch
String result = switch (obj) {
    case Integer i when i > 0 -> "Positive: " + i;
    case Integer i -> "Non-positive: " + i;
    case String s -> "String: " + s;
    case Person(String name, int age) when age >= 18 -> name + " is adult";
    case Person(String name, int age) -> name + " is minor";
    case null -> "Null";
    default -> "Unknown";
};

// Record patterns
if (obj instanceof Person(String name, int age) p) {
    System.out.println(p.name() + " is " + age + " years old");
}
```

### Q7: Text Blocks - Use cases?

```java
// Java 17+: Text blocks cho multi-line strings
String json = """
    {
        "name": "John",
        "age": 30,
        "address": {
            "street": "123 Main St",
            "city": "New York"
        }
    }
    """;

String sql = """
    SELECT u.id, u.name, u.email
    FROM users u
    WHERE u.age > :minAge
    ORDER BY u.name
    """;

String html = """
    <html>
        <body>
            <h1>Hello World</h1>
        </body>
    </html>
    """;
```

### Q8: Migration challenges và solutions?

**Challenge 1: Removed APIs**
```java
// Java 8: Nashorn JavaScript Engine
ScriptEngine engine = new ScriptEngineManager().getEngineByName("nashorn");

// Java 11+: Sử dụng GraalVM JavaScript hoặc alternatives
// Solution: Migrate to GraalVM JavaScript or remove JavaScript support
```

**Challenge 2: Strong Encapsulation**
```bash
# Java 17+: Internal APIs không thể truy cập
# Solution: Sử dụng --add-opens nếu cần
java --add-opens java.base/java.lang=ALL-UNNAMED your-app.jar
```

**Challenge 3: Deprecated APIs**
```java
// Security Manager deprecated từ Java 17
// Solution: Remove Security Manager usage, use modern security approaches
```

### Q9: Performance improvements qua các versions?

**Java 8 → Java 11:**
- ~10% faster startup time
- Better GC performance
- Improved JIT compiler

**Java 11 → Java 17:**
- ~15% faster startup time
- Better memory management
- Improved string operations

**Java 17 → Java 21:**
- ~20% faster startup time
- Virtual threads cho high concurrency
- Generational ZGC improvements

### Q10: Cách test compatibility trước khi migrate?

```bash
# 1. Sử dụng jdeps để check dependencies
jdeps --jdk-internals your-application.jar

# 2. Check module dependencies
jdeps --list-deps your-application.jar

# 3. Compile với target version
javac -source 8 -target 11 YourClass.java

# 4. Run với new JDK trong test environment
java -version
java -jar your-application.jar

# 5. Run tests
mvn test
# hoặc
gradle test
```

## Kết luận

- **Java 8**: Vẫn được sử dụng rộng rãi nhưng đang dần được thay thế
- **Java 11**: Stable và được hỗ trợ tốt, good choice cho nhiều projects
- **Java 17**: **Recommended** cho projects mới, modern features, better performance
- **Java 21**: **Latest LTS**, best choice cho projects mới với virtual threads và latest features

**Khuyến nghị**: 
- Projects mới: Sử dụng **Java 21** (hoặc **Java 17** nếu cần compatibility cao hơn)
- Projects hiện tại: Migrate lên **Java 17** hoặc **Java 21** khi có thể
- Legacy systems: Giữ **Java 11** hoặc **Java 8** nếu không thể upgrade

## Checklist Migration

### Pre-Migration
- [ ] Review dependencies compatibility
- [ ] Check for deprecated APIs
- [ ] Identify removed modules
- [ ] Review third-party libraries
- [ ] Set up test environment

### During Migration
- [ ] Update JDK version
- [ ] Update build tools (Maven/Gradle)
- [ ] Fix compilation errors
- [ ] Update deprecated APIs
- [ ] Handle removed modules
- [ ] Run all tests

### Post-Migration
- [ ] Performance testing
- [ ] Security review
- [ ] Update documentation
- [ ] Update CI/CD pipelines
- [ ] Monitor production
- [ ] Train team on new features
